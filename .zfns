function modse() {
  if [ -z "$1" ]; then
    echo "Usage: modse <prompt> [num] [size]"
    return 1
  fi

  if [ -z "$OPENAI_API_KEY" ]; then
    echo "Please set OPENAI_API_KEY"
    return 1
  fi

  GENERATION_MODE=${2:-enhanced}
  IMAGE_COUNT=${3:-1}
  IMAGE_DIMENSIONS=${4:-"1024x1024"}

  SIMPLICITY_MODIFIER="I NEED to test how the tool works with extremely simple prompts. DO NOT add any detail, just use it AS-IS:"

  if [ "$GENERATION_MODE" = "simple" ]; then
    CHAT_PROMPT="$SIMPLICITY_MODIFIER $1"
  else
    CHAT_PROMPT="$1"
  fi

  JSON_PAYLOAD=$(jq -n \
    --arg model "dall-e-3" \
    --arg prompt "$CHAT_PROMPT" \
    --argjson n "$IMAGE_COUNT" \
    --arg size "$IMAGE_DIMENSIONS" \
    '{model: $model, prompt: $prompt, n: $n, size: $size}')

  curl https://api.openai.com/v1/images/generations \
    -H "Content-Type: application/json" \
    -H "Authorization: Bearer $OPENAI_API_KEY" \
    -d "$JSON_PAYLOAD"
  
  return 0
}

function brewu() {
    brew update
    brew upgrade
    brew cleanup
    brew autoremove
    echo "Done updating brew"
}
